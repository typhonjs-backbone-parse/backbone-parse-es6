<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <base data-ice="baseUrl" href="../../../../../../../">
  <title data-ice="title">BackboneQuery | backbone-parse-es6 API Document</title>
  <link type="text/css" rel="stylesheet" href="css/style.css">
  <link type="text/css" rel="stylesheet" href="css/prettify-tomorrow.css">
  <script src="script/prettify/prettify.js"></script>
  
  
  <script src="script/manual.js"></script>
</head>
<body class="layout-container" data-ice="rootContainer">

<header>
  <a href="./">Home</a>
  <a href="./manual/index.html" data-ice="manualHeaderLink">Manual</a>
  <a href="identifiers.html">Reference</a>
  <a href="source.html">Source</a>
  
  <a data-ice="repoURL" href="https://github.com/typhonjs/backbone-parse-es6/" class="repo-url-github">Repository</a>
  <div class="search-box">
  <span>
    <img src="./image/search.png">
    <span class="search-input-edge"></span><input class="search-input"><span class="search-input-edge"></span>
  </span>
    <ul class="search-result"></ul>
  </div>
</header>

<nav class="navigation" data-ice="nav"><div>
  <ul>
    
  <li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">src</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/src/ParseCollection.js~ParseCollection.html">ParseCollection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/src/ParseModel.js~ParseModel.html">ParseModel</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-modelExtend">modelExtend</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parseExtend">parseExtend</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-parseSync">parseSync</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-parseCollection">parseCollection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-parseModel">parseModel</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">backbone-es6/src</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html">Backbone</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Collection.js~Collection.html">Collection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Debug.js~Debug.html">Debug</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/History.js~History.html">History</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Model.js~Model.html">Model</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Router.js~Router.html">Router</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Utils.js~Utils.html">Utils</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/View.js~View.html">View</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-extend">extend</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-sync">sync</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-BackboneProxy">BackboneProxy</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-collection">collection</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-model">model</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">typhonjs-core-backbone-common/src</div><span data-ice="kind" class="kind-function">F</span><span data-ice="name"><span><a href="function/index.html#static-function-typhonExtend">typhonExtend</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">typhonjs-core-backbone-events/src</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-events@master/src/Events.js~Events.html">Events</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-events@master/src/TyphonEvents.js~TyphonEvents.html">TyphonEvents</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">typhonjs-core-backbone-query/src</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js~BackboneQuery.html">BackboneQuery</a></span></span></li>
<li data-ice="doc"><div data-ice="dirPath" class="nav-dir-path">typhonjs-core-utils/src</div><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-utils@master/src/MultiMap.js~MultiMap.html">MultiMap</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-class">C</span><span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-utils@master/src/Utils.js~Utils.html">Utils</a></span></span></li>
<li data-ice="doc"><span data-ice="kind" class="kind-variable">V</span><span data-ice="name"><span><a href="variable/index.html#static-variable-btoa">btoa</a></span></span></li>
</ul>
</div>
</nav>

<div class="content" data-ice="content"><div class="header-notice">
  <div data-ice="importPath" class="import-path"><pre class="prettyprint"><code data-ice="importPathCode">import BackboneQuery from &apos;<span><a href="file/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js.html#lineNumber541">typhonjs-core-backbone-query/src/BackboneQuery.js</a></span>&apos;</code></pre></div>
  <span data-ice="access">public</span>
  <span data-ice="kind">class</span>
  
  
  
  <span data-ice="source">| <span><a href="file/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js.html#lineNumber541">source</a></span></span>
</div>

<div class="self-detail detail">
  <h1 data-ice="name">BackboneQuery</h1>

  

  
  
  
  
  
  
  
  
  

  
  
  <div class="description" data-ice="description"><h2 id="backbonequery-provides-client-side-sorting-based-on-a-query-api-">BackboneQuery -- Provides client side sorting based on a query API.</h2>
<p>Forked from <a href="https://github.com/davidgtonge/backbone_query">https://github.com/davidgtonge/backbone_query</a></p>
<p>A lightweight (3KB minified) utility for Backbone projects, that works in the Browser and on the Server. Adds the
ability to search for models with a Query API similar to MongoDB.</p>
<p>The huge benefit of using BackboneQuery is that queries can be stored as JSON.</p>
<h2 id="usage">Usage</h2>
<p>The major difference of this implementation is that the API is not attached to a collection, but can be run against
any collection by invoking the methods with a target collection.</p>
<h2 id="find">Find</h2>
<p><strong><em> $equal </em></strong></p>
<p>Performs a strict equality test using ===. If no operator is provided and the query value isn&apos;t a regex then <code>$equal</code>
is assumed.</p>
<p>If the attribute in the model is an array then the query value is searched for in the array in the same way as
<code>$contains</code>.</p>
<p>If the query value is an object (including array) then a deep comparison is performed using underscores <code>_.isEqual</code>.</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { title: &quot;Test&quot; });
// Returns all models which have a &quot;title&quot; attribute of &quot;Test&quot;


BackboneQuery.find(collection, { title: { $equal: &quot;Test&quot; } }); // Same as above
BackboneQuery.find(collection, { colors: &quot;red&quot; });
// Returns models which contain the value &quot;red&quot; in a &quot;colors&quot; attribute that is an array.


BackboneQuery.find(collection, { colors: [&quot;red&quot;, &quot;yellow&quot;] });
// Returns models which contain a colors attribute with the array [&quot;red&quot;, &quot;yellow&quot;]</code>
</code></pre><p><strong><em> $contains </em></strong></p>
<p>Assumes that the model property is an array and searches for the query value in the array.</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { colors: { $contains: &quot;red&quot; } });
// Returns models which contain the value &quot;red&quot; in a &quot;colors&quot; attribute that is an array.
e.g. a model with this attribute colors:[&quot;red&quot;, &quot;yellow&quot;, &quot;blue&quot;] would be returned.</code>
</code></pre><p><strong><em> $ne </em></strong></p>
<p>&quot;Not equal&quot;, the opposite of $equal, returns all models which don&apos;t have the query value</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { title: { $ne: &quot;Test&quot; } });
// Returns all models which don&apos;t have a &quot;title&quot; attribute of &quot;Test&quot;</code>
</code></pre><p><strong><em> $lt, $lte, $gt, $gte </em></strong></p>
<p>These conditional operators can be used for greater than and less than comparisons in queries</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { likes: { $lt:10 } });
// Returns all models which have a &quot;likes&quot; attribute of less than 10


BackboneQuery.find(collection, { likes: { $lte:10 } });
// Returns all models which have a &quot;likes&quot; attribute of less than or equal to 10


BackboneQuery.find(collection, { likes: { $gt:10 } });
// Returns all models which have a &quot;likes&quot; attribute of greater than 10


BackboneQuery.find(collection, { likes: { $gte:10 } });
// Returns all models which have a &quot;likes&quot; attribute of greater than or equal to 10</code>
</code></pre><p><strong><em> $between </em></strong></p>
<p>To check if a value is in-between 2 query values use the $between operator and supply an array with the min and max
value.</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { likes: { $between: [5, 15] } });
// Returns all models which have a &quot;likes&quot; attribute of greater than 5 and less then 15</code>
</code></pre><p><strong><em> $in </em></strong></p>
<p>An array of possible values can be supplied using $in, a model will be returned if any of the supplied values is
matched.</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { title: { $in: [&quot;About&quot;, &quot;Home&quot;, &quot;Contact&quot;] } });
// Returns all models which have a title attribute of either &quot;About&quot;, &quot;Home&quot;, or &quot;Contact&quot;</code>
</code></pre><p><strong><em> $nin </em></strong></p>
<p>&quot;Not in&quot;, the opposite of $in. A model will be returned if none of the supplied values is matched.</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { title: { $nin: [&quot;About&quot;, &quot;Home&quot;, &quot;Contact&quot;] } });
// Returns all models which don&apos;t have a title attribute of either &quot;About&quot;, &quot;Home&quot;, or &quot;Contact&quot;</code>
</code></pre><p><strong><em> $all </em></strong></p>
<p>Assumes the model property is an array and only returns models where all supplied values are matched.</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { colors: { $all: [&quot;red&quot;, &quot;yellow&quot;] } });
// Returns all models which have &quot;red&quot; and &quot;yellow&quot; in their colors attribute.
// A model with the attribute colors:[&quot;red&quot;,&quot;yellow&quot;,&quot;blue&quot;] would be returned.
// But a model with the attribute colors:[&quot;red&quot;,&quot;blue&quot;] would not be returned.</code>
</code></pre><p><strong><em> $any </em></strong></p>
<p>Assumes the model property is an array and returns models where any of the supplied values are matched.</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { colors: { $any: [&quot;red&quot;, &quot;yellow&quot;] } });
// Returns models which have either &quot;red&quot; or &quot;yellow&quot; in their colors attribute.</code>
</code></pre><p><strong><em> $size </em></strong></p>
<p>Assumes the model property has a length (i.e. is either an array or a string). Only returns models the model
property&apos;s length matches the supplied values.</p>
<p><strong> Example: </strong></p>
<pre><code><code class="source-code prettyprint">BackboneQuery.find(collection, { colors: { $size:2 } });
// Returns all models which 2 values in the colors attribute</code>
</code></pre><p>$exists or $has</p>
<p>Checks for the existence of an attribute. Can be supplied either true or false.</p>
<p>Example:</p>
<p>BackboneQuery.find(collection, { title: { $exists: true } });</p>
<p>// Returns all models which have a &quot;title&quot; attribute</p>
<p>BackboneQuery.find(collection, { title: { $has: false } });</p>
<p>// Returns all models which don&apos;t have a &quot;title&quot; attribute</p>
<p>$like</p>
<p>Assumes the model attribute is a string and checks if the supplied query value is a substring of the property.
Uses indexOf rather than regex for performance reasons.</p>
<p>Example:</p>
<p>BackboneQuery.find(collection, { title: { $like: &quot;Test&quot; } });</p>
<p>//Returns all models which have a &quot;title&quot; attribute that</p>
<p>//contains the string &quot;Test&quot;, e.g. &quot;Testing&quot;, &quot;Tests&quot;, &quot;Test&quot;, etc.</p>
<p>$likeI</p>
<p>The same as above but performs a case insensitive search using indexOf and toLowerCase (still faster than Regex).</p>
<p>Example:</p>
<p>BackboneQuery.find(collection, { title: { $likeI: &quot;Test&quot; } });</p>
<p>//Returns all models which have a &quot;title&quot; attribute that</p>
<p>//contains the string &quot;Test&quot;, &quot;test&quot;, &quot;tEst&quot;,&quot;tesT&quot;, etc.</p>
<p>$regex</p>
<p>Checks if the model attribute matches the supplied regular expression. The regex query can be supplied without
the <code>$regex</code> keyword.</p>
<p>Example:</p>
<p>BackboneQuery.find(collection, { content: { $regex: /coffeescript/gi } });</p>
<p>// Checks for a regex match in the content attribute</p>
<p>BackboneQuery.find(collection, { content: /coffeescript/gi });</p>
<p>// Same as above</p>
<p>$cb</p>
<p>A callback function can be supplied as a test. The callback will receive the attribute and should return either
true or false. <code>this</code> will be set to the current model, this can help with tests against computed properties.</p>
<p>Example:</p>
<p>BackboneQuery.find(collection, { title: { $cb: function(attr){ return attr.charAt(0) === &quot;c&quot;; } } });</p>
<p>// Returns all models that have a title attribute that starts with &quot;c&quot;</p>
<p>BackboneQuery.find(collection, { computed_test: { $cb: function(){ return this.computed_property() &gt; 10; } } });</p>
<p>// Returns all models where the computed_property method returns a value greater than 10.</p>
<p>For callbacks that use <code>this</code> rather than the model attribute, the key name supplied is arbitrary and has no
effect on the results. If the only test you were performing was like the above test it would make more sense to
simply use <code>Collection.filter</code>. However if you are performing other tests or are using the
paging / sorting / caching options of backbone query, then this functionality is useful.</p>
<p>$elemMatch</p>
<p>This operator allows you to perform queries in nested arrays similar to MongoDB For example you may have a
collection of models in with this kind of data structure:</p>
<p>Example:</p>
<p>let posts = new Collection([</p>
<p>   {title: &quot;Home&quot;, comments:[</p>
<pre><code><code class="source-code prettyprint">  {text:&quot;I like this post&quot;},

  {text:&quot;I love this post&quot;},

  {text:&quot;I hate this post&quot;}</code>
</code></pre><p>   ]},</p>
<p>   {title: &quot;About&quot;, comments:[</p>
<pre><code><code class="source-code prettyprint">  {text:&quot;I like this page&quot;},

  {text:&quot;I love this page&quot;},

  {text:&quot;I really like this page&quot;}</code>
</code></pre><p>   ]}</p>
<p>]);</p>
<p>To search for posts which have the text &quot;really&quot; in any of the comments you could search like this:</p>
<p>BackboneQuery.find(posts, {</p>
<p>   comments: {</p>
<pre><code><code class="source-code prettyprint">  $elemMatch: {

     text: /really/i

  }</code>
</code></pre><p>   }</p>
<p>});</p>
<p>All of the operators above can be performed on <code>$elemMatch</code> queries, e.g. <code>$all</code>, <code>$size</code> or <code>$lt</code>. <code>$elemMatch</code>
queries also accept compound operators, for example this query searches for all posts that have at least one
comment without the word &quot;really&quot; and with the word &quot;totally&quot;.</p>
<p>BackboneQuery.find(posts, {</p>
<p>   comments: {</p>
<pre><code><code class="source-code prettyprint">  $elemMatch: {

     $not: {

        text: /really/i

     },

     $and: {

        text: /totally/i

     }
  }</code>
</code></pre><p>   }</p>
<p>});</p>
<p>$computed</p>
<p>This operator allows you to perform queries on computed properties. For example you may want to perform a query
for a persons full name, even though the first and last name are stored separately in your db / model. For
example:</p>
<p>Example:</p>
<p>class TestModel extends Backbone.Model {</p>
<p>   full_name() {</p>
<pre><code><code class="source-code prettyprint">  return (this.get(&apos;first_name&apos;)) + &quot; &quot; + (this.get(&apos;last_name&apos;));</code>
</code></pre><p>   }</p>
<p>});</p>
<p>let a = new TestModel({</p>
<p>   first_name: &quot;Dave&quot;,</p>
<p>   last_name: &quot;Tonge&quot;</p>
<p>});</p>
<p>let b = new TestModel({</p>
<p>   first_name: &quot;John&quot;,</p>
<p>   last_name: &quot;Smith&quot;</p>
<p>});</p>
<p>let collection = new Collection([a, b]);</p>
<p>BackboneQuery.find(collection, { full_name: { $computed: &quot;Dave Tonge&quot; } });</p>
<p>// Returns the model with the computed <code>full_name</code> equal to Dave Tonge</p>
<p>BackboneQuery.find(collection, { full_name: { $computed: { $likeI: &quot;john smi&quot; } } });</p>
<p>// Any of the previous operators can be used (including elemMatch is required)</p>
<h2 id="combined-queries">Combined Queries</h2>
<p>Multiple queries can be combined together. By default all supplied queries use the <code>$and</code> operator. However it is
possible to specify either <code>$or</code>, <code>$nor</code>, <code>$not</code> to implement alternate logic.</p>
<p>$and</p>
<p>BackboneQuery.find(collection, { $and: { title: { $like: &quot;News&quot; }, likes: { $gt: 10 }}});</p>
<p>// Returns all models that contain &quot;News&quot; in the title and have more than 10 likes.</p>
<p>BackboneQuery.find(collection, { title: { $like: &quot;News&quot; }, likes: { $gt: 10 } });</p>
<p>// Same as above as $and is assumed if not supplied</p>
<p>$or</p>
<p>BackboneQuery.find(collection, { $or: { title: { $like: &quot;News&quot; }, likes: { $gt: 10 } } });</p>
<p>// Returns all models that contain &quot;News&quot; in the title OR have more than 10 likes.</p>
<p>$nor</p>
<p>The opposite of <code>$or</code></p>
<p>BackboneQuery.find(collection, { $nor: { title: { $like: &quot;News&quot; }, likes: { $gt: 10 } } });</p>
<p>// Returns all models that don&apos;t contain &quot;News&quot; in the title NOR have more than 10 likes.</p>
<p>$not</p>
<p>The opposite of <code>$and</code></p>
<p>BackboneQuery.find(collection, { $not: { title: { $like: &quot;News&quot; }, likes: { $gt: 10 } } });</p>
<p>// Returns all models that don&apos;t contain &quot;News&quot; in the title AND DON&apos;T have more than 10 likes.</p>
<p>If you need to perform multiple queries on the same key, then you can supply the query as an array:</p>
<p>BackboneQuery.find(collection, {</p>
<p>   $or:[</p>
<pre><code><code class="source-code prettyprint">  {title:&quot;News&quot;},

  {title:&quot;About&quot;}</code>
</code></pre><p>   ]</p>
<p>});</p>
<p>// Returns all models with the title &quot;News&quot; or &quot;About&quot;.</p>
<h2 id="compound-queries">Compound Queries</h2>
<p>It is possible to use multiple combined queries, for example searching for models that have a specific title
attribute, and either a category of &quot;abc&quot; or a tag of &quot;xyz&quot;.</p>
<p>BackboneQuery.find(collection, {</p>
<p>   $and: { title: { $like: &quot;News&quot; } },</p>
<p>   $or: {likes: { $gt: 10 }, color: { $contains:&quot;red&quot; } }</p>
<p>});</p>
<p>//Returns models that have &quot;News&quot; in their title and either have more than 10 likes or contain the color red.</p>
<h2 id="sorting">Sorting</h2>
<p>Optional <code>sortBy</code> and <code>order</code> attributes can be supplied as part of an options object. <code>sortBy</code> can either be a
model key or a callback function which will be called with each model in the array.</p>
<p>BackboneQuery.find(collection, { title: { $like: &quot;News&quot; } }, { sortBy: &quot;likes&quot; });</p>
<p>// Returns all models that contain &quot;News&quot; in the title, sorted according to their &quot;likes&quot; attribute (ascending)</p>
<p>BackboneQuery.find(collection, { title: { $like: &quot;News&quot; } }, { sortBy: &quot;likes&quot;, order: &quot;desc&quot; });</p>
<p>// Same as above, but &quot;descending&quot;</p>
<p>BackboneQuery.find(collection,</p>
<p>   { title: { $like: &quot;News&quot; } },</p>
<p>   { sortBy: function(model){ return model.get(&quot;title&quot;).charAt(1); } }</p>
<p>);</p>
<p>// Results sorted according to 2nd character of the title attribute</p>
<h2 id="paging">Paging</h2>
<p>To return only a subset of the results paging properties can be supplied as part of an options object. A limit
property must be supplied and optionally a offset or a page property can be supplied.</p>
<p>BackboneQuery.find(collection, { likes:{ $gt: 10 } }, { limit: 10 });</p>
<p>// Returns the first 10 models that have more than 10 likes.</p>
<p>BackboneQuery.find(collection, { likes:{ $gt: 10 } }, { limit: 10, offset: 5 });</p>
<p>// Returns 10 models that have more than 10 likes starting at the 6th model in the results.</p>
<p>BackboneQuery.find(collection, { likes: { $gt: 10 } }, { limit: 10, page: 2 });</p>
<p>// Returns 10 models that have more than 10 likes starting at the 11th model in the results (page 2).</p>
<p>When using the paging functionality, you will normally need to know the number of pages so that you can render
the correct interface for the user. Backbone Query can send the number of pages of results to a supplied callback.
The callback should be passed as a pager property on the options object. This callback will also receive the
sliced models as a second variable.</p>
<p>Here is an example of a simple paging setup using the pager callback option:</p>
<p>TODO Provide example!</p>
<h2 id="caching-results">Caching Results</h2>
<p>To enable caching set the cache flag to true in the options object. This can greatly improve performance when
paging through results as the unpaged results will be saved. This options is not enabled by default as if models
are changed, added to, or removed from the collection, then the query cache will be out of date. If you know that
your data is static and won&apos;t change then caching can be enabled without any problems. If your data is dynamic
(as in most Backbone Apps) then a helper cache reset method is provided: <code>reset_query_cache</code>. This method should
be bound to your collections change, add and remove events (depending on how your data can be changed).</p>
<p>Cache will be saved in a <code>_query_cache</code> property on each collection where a cache query is performed.</p>
</div>

  

  <div data-ice="exampleDocs">
    <h4>Example:</h4>
    
  <div class="example-doc" data-ice="exampleDoc">
      
      <pre class="prettyprint source-code"><code data-ice="exampleCode">BackboneQuery.find(collection, { likes:{ $gt: 10 } }, { limit: 10, page: 1, cache: true });
//The first query will operate as normal and return the first page of results

BackboneQuery.find(collection, { likes:{ $gt: 10 } }, { limit:10, page: 2, cache: true });
//The second query has an identical query object to the first query, so therefore the results will be retrieved
//from the cache, before the paging parameters are applied.

// Binding the reset_query_cache method
MyCollection extends Backbone.Collection {
   initialize() {
      this.bind(&quot;change&quot;, () =&gt; { BackboneQuery.resetQueryCache(this) }, this);
   }
});</code></pre>
    </div>
</div>

  

  
</div>


<div data-ice="staticMethodSummary"><h2>Static Method Summary</h2><table class="summary" data-ice="summary">
  <thead><tr><td data-ice="title" colspan="3">Static Public Methods</td></tr></thead>
  <tbody>
  
  <tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js~BackboneQuery.html#static-method-find">find</a></span></span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>, query: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>, options: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>): <span>*</span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>Returns a sorted array of models from the collection that match the query.</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js~BackboneQuery.html#static-method-findOne">findOne</a></span></span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>, query: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>): <span>*</span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>Returns the first model that matches the query.</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js~BackboneQuery.html#static-method-resetQueryCache">resetQueryCache</a></span></span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>)</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>Resets the query cache of the target collection.</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js~BackboneQuery.html#static-method-sortAll">sortAll</a></span></span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>, query: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span>&lt;<span>*</span>&gt;</span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>Returns a sorted array of all models from the collection that match the query.</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
<tr data-ice="target">
    <td>
      <span class="access" data-ice="access">public</span>
      <span data-ice="static">static</span>
      
      
      <span class="override" data-ice="override"></span>
    </td>
    <td>
      <div>
        <p>
           <span data-ice="name"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js~BackboneQuery.html#static-method-whereBy">whereBy</a></span></span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>, query: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>, queryOptions: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>, options: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>): <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span></span>
        </p>
      </div>
      <div>
        
        
        <div data-ice="description"><p>Runs a query and returns a new collection with the results.</p>
</div>
      </div>
    </td>
    <td>
      
      
    </td>
  </tr>
</tbody>
</table>
</div>







<div data-ice="staticMethodDetails"><h2 data-ice="title">Static Public Methods</h2>

<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-find">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">find</span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>, query: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>, options: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>): <span>*</span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js.html#lineNumber551">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Returns a sorted array of models from the collection that match the query.</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">collection</td>
      <td data-ice="type"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Target collection</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">query</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Query string</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">options</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Optional parameters</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span>*</span></td>
        
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-findOne">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">findOne</span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>, query: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>): <span>*</span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js.html#lineNumber579">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Returns the first model that matches the query.</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">collection</td>
      <td data-ice="type"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Target collection</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">query</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Query string</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span>*</span></td>
        
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-resetQueryCache">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">resetQueryCache</span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>)</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js.html#lineNumber589">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Resets the query cache of the target collection.</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">collection</td>
      <td data-ice="type"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Target collection</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-sortAll">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">sortAll</span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>, query: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>): <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span>&lt;<span>*</span>&gt;</span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js.html#lineNumber601">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Returns a sorted array of all models from the collection that match the query.</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">collection</td>
      <td data-ice="type"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Target collection</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">query</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Query string</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array">Array</a></span>&lt;<span>*</span>&gt;</td>
        
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  

  
  
</div>
<div class="detail" data-ice="detail">
  <h3 data-ice="anchor" id="static-method-whereBy">
    <span class="access" data-ice="access">public</span>
    <span data-ice="static">static</span>
    
    
    
    <span data-ice="name">whereBy</span><span data-ice="signature">(collection: <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span>, query: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span>, queryOptions: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>, options: <span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span>): <span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span></span>
    <span class="right-info">
      
      
      <span data-ice="source"><span><a href="file/backbone-parse-es6/jspm_packages/github/typhonjs/typhonjs-core-backbone-query@master/src/BackboneQuery.js.html#lineNumber615">source</a></span></span>
    </span>
  </h3>

  
  
  
  <div data-ice="description"><p>Runs a query and returns a new collection with the results. Useful for chaining.</p>
</div>

  

  <div data-ice="properties"><div data-ice="properties">
  <h4 data-ice="title">Params:</h4>
  <table class="params">
    <thead>
    <tr><td>Name</td><td>Type</td><td>Attribute</td><td>Description</td></tr>
    </thead>
    <tbody>
    
    <tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">collection</td>
      <td data-ice="type"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Target collection</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">query</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String">string</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Query string</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">queryOptions</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Optional parameters for query.</p>
</td>
    </tr>
<tr data-ice="property" data-depth="0">
      <td data-ice="name" data-depth="0">options</td>
      <td data-ice="type"><span><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object">Object</a></span></td>
      <td data-ice="appendix"></td>
      <td data-ice="description"><p>Optional parameters (used to construct the new collection).</p>
</td>
    </tr>
</tbody>
  </table>
</div>
</div>

  <div class="return-params" data-ice="returnParams">
    <h4>Return:</h4>
    <table>
      <tr>
        <td class="return-type" data-ice="returnType"><span><a href="class/backbone-parse-es6/jspm_packages/github/typhonjs/backbone-es6@master/src/Backbone.js~Backbone.html#instance-member-Collection">Collection</a></span></td>
        
      </tr>
    </table>
    <div data-ice="returnProperties">
</div>
  </div>

  

  

  

  

  

  
  
</div>
</div>



</div>

<footer class="footer">
  Generated by <a href="https://esdoc.org">ESDoc<span data-ice="esdocVersion">(0.4.3)</span></a>
</footer>

<script src="script/search_index.js"></script>
<script src="script/search.js"></script>
<script src="script/pretty-print.js"></script>
<script src="script/inherited-summary.js"></script>
<script src="script/test-summary.js"></script>
<script src="script/inner-link.js"></script>
<script src="script/patch-for-local.js"></script>
</body>
</html>
